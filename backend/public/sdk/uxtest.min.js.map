{
  "version": 3,
  "sources": ["../src/uxtest.js"],
  "sourcesContent": ["/**\r\n * UXTest SDK - Privacy-first UX testing\r\n * Multi-task widget with session persistence across page navigation\r\n */\r\n(function(global) {\r\n  'use strict';\r\n\r\n  var VERSION = '1.1.0';\r\n  var QUEUE_KEY = 'uxtest_queue';\r\n  var SESSION_KEY = 'uxtest_session';\r\n  var DEFAULT_ENDPOINT = 'http://localhost:3001';\r\n\r\n  var config = null;\r\n  var testConfig = null;\r\n  var sessionId = null;\r\n  var startTime = null;\r\n  var queue = [];\r\n  var flushTimer = null;\r\n  var isInitialized = false;\r\n  var widgetElement = null;\r\n  var currentTaskIndex = 0;\r\n  var taskStartTime = null;\r\n\r\n  function generateUUID() {\r\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) return crypto.randomUUID();\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n      var r = Math.random() * 16 | 0;\r\n      return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n  }\r\n\r\n  function now() { return Date.now(); }\r\n\r\n  // Session persistence - survives page navigation\r\n  function saveSession() {\r\n    try {\r\n      localStorage.setItem(SESSION_KEY, JSON.stringify({\r\n        sessionId: sessionId,\r\n        testId: config.testId,\r\n        projectId: config.projectId,\r\n        variant: config.variant,\r\n        endpoint: config.endpoint,\r\n        startTime: startTime,\r\n        currentTaskIndex: currentTaskIndex,\r\n        taskStartTime: taskStartTime,\r\n        timestamp: now()\r\n      }));\r\n    } catch(e) {}\r\n  }\r\n\r\n  function loadSession(testId) {\r\n    try {\r\n      var data = localStorage.getItem(SESSION_KEY);\r\n      if (!data) return null;\r\n      var session = JSON.parse(data);\r\n      // Only restore if same test and session is less than 1 hour old\r\n      if (session.testId === testId && (now() - session.timestamp) < 3600000) {\r\n        return session;\r\n      }\r\n      return null;\r\n    } catch(e) { return null; }\r\n  }\r\n\r\n  function clearSession() {\r\n    try { localStorage.removeItem(SESSION_KEY); } catch(e) {}\r\n  }\r\n\r\n  // AJAX\r\n  function ajax(url, method, data) {\r\n    return new Promise(function(resolve, reject) {\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open(method, url, true);\r\n      xhr.setRequestHeader('Content-Type', 'application/json');\r\n      xhr.timeout = 15000;\r\n      xhr.onload = function() {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          try {\r\n            resolve(JSON.parse(xhr.responseText));\r\n          } catch(e) {\r\n            resolve({});\r\n          }\r\n        } else {\r\n          reject(new Error('HTTP ' + xhr.status));\r\n        }\r\n      };\r\n      xhr.onerror = function() { reject(new Error('Network error')); };\r\n      xhr.ontimeout = function() { reject(new Error('Timeout')); };\r\n      xhr.send(data ? JSON.stringify(data) : null);\r\n    });\r\n  }\r\n\r\n  // Queue management\r\n  function persistQueue() {\r\n    try { localStorage.setItem(QUEUE_KEY, JSON.stringify(queue)); } catch(e) {}\r\n  }\r\n\r\n  function recoverQueue() {\r\n    try {\r\n      var stored = localStorage.getItem(QUEUE_KEY);\r\n      if (stored) queue = JSON.parse(stored).concat(queue);\r\n    } catch(e) {}\r\n  }\r\n\r\n  function clearQueue() {\r\n    try { localStorage.removeItem(QUEUE_KEY); } catch(e) {}\r\n  }\r\n\r\n  function flush() {\r\n    if (queue.length === 0 || !config) return Promise.resolve();\r\n    var events = queue.slice();\r\n    queue = [];\r\n    \r\n    console.log('[UXTest] Sending', events.length, 'events to', config.endpoint);\r\n    \r\n    return ajax(config.endpoint + '/events', 'POST', { events: events })\r\n      .then(function(result) { \r\n        clearQueue();\r\n        console.log('[UXTest] \u2713 Events sent successfully');\r\n      })\r\n      .catch(function(err) { \r\n        queue = events.concat(queue); \r\n        persistQueue();\r\n        console.error('[UXTest] \u2717 Failed to send events:', err.message);\r\n      });\r\n  }\r\n\r\n  function enqueue(type, payload, duration) {\r\n    var event = {\r\n      sessionId: sessionId,\r\n      projectId: config.projectId,\r\n      testId: config.testId,\r\n      variant: config.variant,\r\n      type: type,\r\n      payload: payload || null,\r\n      timestamp: now(),\r\n      duration: duration\r\n    };\r\n    queue.push(event);\r\n    persistQueue();\r\n    console.log('[UXTest] Event:', type);\r\n    if (queue.length >= 5) flush();\r\n  }\r\n\r\n  // Widget UI\r\n  function createWidget() {\r\n    if (widgetElement) {\r\n      document.body.removeChild(widgetElement);\r\n    }\r\n\r\n    var widget = document.createElement('div');\r\n    widget.id = 'uxtest-widget';\r\n    \r\n    var style = document.createElement('style');\r\n    style.textContent = getCSS();\r\n    document.head.appendChild(style);\r\n    document.body.appendChild(widget);\r\n    widgetElement = widget;\r\n    \r\n    renderWidget();\r\n  }\r\n\r\n  function renderWidget() {\r\n    if (!widgetElement || !testConfig) return;\r\n    \r\n    var tasks = testConfig.tasks || [];\r\n    var currentTask = tasks[currentTaskIndex];\r\n    var progress = tasks.length > 0 ? ((currentTaskIndex) / tasks.length * 100) : 0;\r\n    \r\n    widgetElement.innerHTML = '' +\r\n      '<div class=\"ux-header\">' +\r\n        '<div class=\"ux-title\">\uD83D\uDCCB UX Test</div>' +\r\n        '<div class=\"ux-progress-bar\"><div class=\"ux-progress-fill\" style=\"width:' + progress + '%\"></div></div>' +\r\n        '<div class=\"ux-progress-text\">Task ' + (currentTaskIndex + 1) + ' of ' + tasks.length + '</div>' +\r\n      '</div>' +\r\n      '<div class=\"ux-body\">' +\r\n        '<div class=\"ux-task-title\">' + (currentTask ? currentTask.title : 'Complete the task') + '</div>' +\r\n        '<div class=\"ux-task-desc\">' + (currentTask ? currentTask.description || '' : '') + '</div>' +\r\n        '<div class=\"ux-timer\" id=\"ux-timer\">0:00</div>' +\r\n        '<div class=\"ux-nav-hint\">\uD83D\uDCA1 Widget stays active when you navigate!</div>' +\r\n      '</div>' +\r\n      '<div class=\"ux-footer\">' +\r\n        '<button class=\"ux-btn ux-btn-done\" onclick=\"UXTest.success()\">\u2713 Done</button>' +\r\n        '<button class=\"ux-btn ux-btn-skip\" onclick=\"UXTest.nextTask()\">Skip \u2192</button>' +\r\n        '<button class=\"ux-btn ux-btn-abandon\" onclick=\"UXTest.abandon(\\'user_quit\\')\">\u2717 Quit</button>' +\r\n      '</div>';\r\n  }\r\n\r\n  function showComplete(abandoned) {\r\n    if (!widgetElement) return;\r\n    clearSession();\r\n    widgetElement.innerHTML = '' +\r\n      '<div class=\"ux-complete\">' +\r\n        '<div class=\"ux-complete-icon\">' + (abandoned ? '\uD83D\uDC4B' : '\uD83C\uDF89') + '</div>' +\r\n        '<h3>' + (abandoned ? 'Test Ended' : 'All Done!') + '</h3>' +\r\n        '<p>' + (abandoned ? 'Thanks for participating' : 'Thank you for testing!') + '</p>' +\r\n        '<button class=\"ux-btn ux-btn-done\" onclick=\"document.getElementById(\\'uxtest-widget\\').remove()\" style=\"margin-top:15px\">Close</button>' +\r\n      '</div>';\r\n  }\r\n\r\n  function updateTimer() {\r\n    var el = document.getElementById('ux-timer');\r\n    if (!el || !taskStartTime) return;\r\n    var elapsed = Math.floor((now() - taskStartTime) / 1000);\r\n    var mins = Math.floor(elapsed / 60);\r\n    var secs = elapsed % 60;\r\n    el.textContent = mins + ':' + (secs < 10 ? '0' : '') + secs;\r\n  }\r\n\r\n  function getCSS() {\r\n    return '#uxtest-widget{' +\r\n      'position:fixed;bottom:20px;right:20px;width:320px;' +\r\n      'background:linear-gradient(145deg,#1a1a2e,#16213e);' +\r\n      'border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,0.4);' +\r\n      'font-family:-apple-system,BlinkMacSystemFont,sans-serif;color:#fff;z-index:2147483647;' +\r\n      'border:1px solid rgba(255,255,255,0.1);overflow:hidden}' +\r\n      '.ux-header{padding:16px;border-bottom:1px solid rgba(255,255,255,0.1)}' +\r\n      '.ux-title{font-weight:700;font-size:14px;margin-bottom:10px}' +\r\n      '.ux-progress-bar{height:6px;background:rgba(255,255,255,0.1);border-radius:3px;overflow:hidden}' +\r\n      '.ux-progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#34d399);transition:width 0.3s}' +\r\n      '.ux-progress-text{font-size:11px;color:#94a3b8;margin-top:6px}' +\r\n      '.ux-body{padding:16px}' +\r\n      '.ux-task-title{font-weight:600;font-size:15px;margin-bottom:6px}' +\r\n      '.ux-task-desc{font-size:13px;color:#94a3b8;line-height:1.4;margin-bottom:12px}' +\r\n      '.ux-timer{font-size:24px;font-weight:700;color:#60a5fa;font-family:monospace}' +\r\n      '.ux-nav-hint{font-size:11px;color:#f59e0b;margin-top:10px;padding:8px;background:rgba(245,158,11,0.1);border-radius:6px}' +\r\n      '.ux-footer{padding:12px 16px;display:flex;gap:8px;border-top:1px solid rgba(255,255,255,0.1)}' +\r\n      '.ux-btn{flex:1;padding:10px;border:none;border-radius:8px;font-weight:600;font-size:12px;cursor:pointer;transition:all 0.2s}' +\r\n      '.ux-btn-done{background:#10b981;color:#fff}' +\r\n      '.ux-btn-done:hover{background:#059669}' +\r\n      '.ux-btn-skip{background:rgba(96,165,250,0.2);color:#60a5fa}' +\r\n      '.ux-btn-skip:hover{background:rgba(96,165,250,0.3)}' +\r\n      '.ux-btn-abandon{background:transparent;color:#f87171;border:1px solid rgba(248,113,113,0.3)}' +\r\n      '.ux-btn-abandon:hover{background:rgba(239,68,68,0.1)}' +\r\n      '.ux-complete{text-align:center;padding:30px 20px}' +\r\n      '.ux-complete-icon{font-size:40px;margin-bottom:10px}' +\r\n      '.ux-complete h3{margin:0 0 6px;color:#10b981}' +\r\n      '.ux-complete p{margin:0;color:#94a3b8;font-size:13px}';\r\n  }\r\n\r\n  function fetchTestConfig() {\r\n    return ajax(config.endpoint + '/tests/' + config.testId, 'GET', null)\r\n      .then(function(data) {\r\n        testConfig = data;\r\n        if (!testConfig.tasks || testConfig.tasks.length === 0) {\r\n          testConfig.tasks = [{ title: testConfig.name, description: testConfig.instructions || testConfig.description }];\r\n        }\r\n        return data;\r\n      })\r\n      .catch(function(err) {\r\n        console.error('[UXTest] Could not fetch test:', err);\r\n        testConfig = { tasks: [{ title: 'Complete the task', description: 'Follow the instructions' }] };\r\n      });\r\n  }\r\n\r\n  // Public API\r\n  var UXTest = {\r\n    init: function(options) {\r\n      if (!options || !options.projectId || !options.testId) {\r\n        throw new Error('projectId and testId required');\r\n      }\r\n\r\n      // Check for existing session\r\n      var existingSession = loadSession(options.testId);\r\n      \r\n      if (existingSession && !isInitialized) {\r\n        // Resume existing session\r\n        console.log('[UXTest] Resuming session from previous page...');\r\n        config = {\r\n          projectId: existingSession.projectId,\r\n          testId: existingSession.testId,\r\n          variant: existingSession.variant,\r\n          endpoint: existingSession.endpoint\r\n        };\r\n        sessionId = existingSession.sessionId;\r\n        startTime = existingSession.startTime;\r\n        currentTaskIndex = existingSession.currentTaskIndex;\r\n        taskStartTime = existingSession.taskStartTime;\r\n        isInitialized = true;\r\n        \r\n        recoverQueue();\r\n        enqueue('page_navigated', { url: location.href });\r\n        \r\n        flushTimer = setInterval(flush, 10000);\r\n        window.addEventListener('beforeunload', function() { flush(); saveSession(); });\r\n        \r\n        return fetchTestConfig().then(function() {\r\n          createWidget();\r\n          setInterval(updateTimer, 1000);\r\n          console.log('[UXTest] Session resumed - Task', currentTaskIndex + 1);\r\n        });\r\n      }\r\n      \r\n      if (isInitialized) {\r\n        // Already initialized on this page, just recreate widget\r\n        createWidget();\r\n        return Promise.resolve();\r\n      }\r\n\r\n      // New session\r\n      config = {\r\n        projectId: options.projectId,\r\n        testId: options.testId,\r\n        variant: options.variant || 'A',\r\n        endpoint: (options.endpoint || DEFAULT_ENDPOINT).replace(/\\/$/, '')\r\n      };\r\n\r\n      sessionId = generateUUID();\r\n      startTime = now();\r\n      taskStartTime = now();\r\n      currentTaskIndex = 0;\r\n      isInitialized = true;\r\n\r\n      recoverQueue();\r\n      enqueue('test_started', { url: location.href, userAgent: navigator.userAgent });\r\n      saveSession();\r\n\r\n      flushTimer = setInterval(flush, 10000);\r\n      window.addEventListener('beforeunload', function() { flush(); saveSession(); });\r\n\r\n      return fetchTestConfig().then(function() {\r\n        createWidget();\r\n        setInterval(updateTimer, 1000);\r\n        console.log('[UXTest] Started -', testConfig.tasks.length, 'tasks');\r\n      });\r\n    },\r\n\r\n    nextTask: function() {\r\n      if (!isInitialized || !testConfig) return;\r\n      \r\n      var tasks = testConfig.tasks || [];\r\n      enqueue('task_skipped', { taskIndex: currentTaskIndex });\r\n      \r\n      currentTaskIndex++;\r\n      taskStartTime = now();\r\n      saveSession();\r\n      \r\n      if (currentTaskIndex >= tasks.length) {\r\n        // All tasks done\r\n        var duration = now() - startTime;\r\n        enqueue('test_completed', { completedTasks: currentTaskIndex }, duration);\r\n        flush();\r\n        clearInterval(flushTimer);\r\n        showComplete(false);\r\n      } else {\r\n        renderWidget();\r\n      }\r\n    },\r\n\r\n    logEvent: function(type, payload) {\r\n      if (!isInitialized) return;\r\n      enqueue(type, payload);\r\n    },\r\n\r\n    success: function(metadata) {\r\n      if (!isInitialized || !testConfig) return;\r\n      \r\n      var tasks = testConfig.tasks || [];\r\n      enqueue('task_completed', { taskIndex: currentTaskIndex, ...metadata });\r\n      \r\n      currentTaskIndex++;\r\n      taskStartTime = now();\r\n      saveSession();\r\n      \r\n      if (currentTaskIndex >= tasks.length) {\r\n        // All tasks done\r\n        var duration = now() - startTime;\r\n        enqueue('test_completed', { completedTasks: currentTaskIndex }, duration);\r\n        flush();\r\n        clearInterval(flushTimer);\r\n        showComplete(false);\r\n      } else {\r\n        renderWidget();\r\n        console.log('[UXTest] Task done! Next:', currentTaskIndex + 1);\r\n      }\r\n    },\r\n\r\n    abandon: function(reason) {\r\n      if (!isInitialized) return;\r\n      var duration = now() - startTime;\r\n      enqueue('test_abandoned', { reason: reason, lastTaskIndex: currentTaskIndex }, duration);\r\n      flush();\r\n      clearInterval(flushTimer);\r\n      clearSession();\r\n      showComplete(true);\r\n    },\r\n\r\n    version: VERSION,\r\n    getSessionId: function() { return sessionId; },\r\n    getQueueLength: function() { return queue.length; }\r\n  };\r\n\r\n  global.UXTest = UXTest;\r\n})(typeof window !== 'undefined' ? window : this);\r\n"],
  "mappings": "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",
  "names": ["global", "VERSION", "QUEUE_KEY", "SESSION_KEY", "DEFAULT_ENDPOINT", "config", "testConfig", "sessionId", "startTime", "queue", "flushTimer", "isInitialized", "widgetElement", "currentTaskIndex", "taskStartTime", "generateUUID", "c", "r", "now", "saveSession", "e", "loadSession", "testId", "data", "session", "clearSession", "ajax", "url", "method", "resolve", "reject", "xhr", "persistQueue", "recoverQueue", "stored", "clearQueue", "flush", "events", "result", "err", "enqueue", "type", "payload", "duration", "event", "createWidget", "widget", "style", "getCSS", "renderWidget", "tasks", "currentTask", "progress", "showComplete", "abandoned", "updateTimer", "el", "elapsed", "mins", "secs", "fetchTestConfig", "UXTest", "options", "existingSession", "metadata", "__spreadValues", "reason"]
}
